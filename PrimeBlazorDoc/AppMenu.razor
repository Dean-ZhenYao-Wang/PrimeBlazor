@inject IJSRuntime JS
<div class="layout-sidebar @(active?"active":null)">
    <div class="layout-menu">
        <a @onclick="((e)=>toogleMenu(e,0))" tabindex="0"
           class="@(activeMenuIndex==0?"active-menuitem":string.Empty)">
            <img alt="input" class="layout-menu-icon-inactive" src="./assets/images/menu/input.svg" />
            <img alt="input" class="layout-menu-icon-active" src="./assets/images/menu/input-active.svg" />
            <span>Input</span>

        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==0?"block":"none")">
                <div>
                    <NavLink href="/autocomplete">&#9679; AutoComplete</NavLink>
                    <NavLink href="/calendar">&#9679; Calendar</NavLink>
                    <NavLink href="/checkbox">&#9679; Checkbox</NavLink>
                    <NavLink href="/chips">&#9679; Chips</NavLink>
                    <NavLink href="/dropdown">&#9679; Dropdown</NavLink>
                    <NavLink href="/editor">&#9679; Editor</NavLink>
                    <NavLink href="/inputgroup">&#9679; InputGroup</NavLink>
                    <NavLink href="/inputswitch">&#9679; InputSwitch</NavLink>
                    <NavLink href="/inputtext">&#9679; InputText</NavLink>
                    <NavLink href="/listbox">&#9679; Listbox</NavLink>
                    <NavLink href="/multiselect">&#9679; MultiSelect</NavLink>
                    <NavLink href="/password">&#9679; Password</NavLink>
                    <NavLink href="/radiobutton">&#9679; RadioButton</NavLink>
                    <NavLink href="/rating">&#9679; Rating</NavLink>
                    <NavLink href="/selectbutton">&#9679; SelectButton</NavLink>
                    <NavLink href="/slider">&#9679; Slider</NavLink>
                    <NavLink href="/spinner">&#9679; Spinner</NavLink>
                    <NavLink href="/textarea">&#9679; Textarea</NavLink>
                    <NavLink href="/togglebutton">&#9679; ToggleButton</NavLink>
                    <NavLink href="/tristatecheckbox">&#9679; TriCheckbox</NavLink>
                </div>

            </div>
        </transition>
        <a @onclick="((e)=>toogleMenu(e,1))" tabindex="0"
           class="@(activeMenuIndex==1?"active-menuitem":string.Empty)">
            <img alt="button" class="layout-menu-icon-inactive" src="./assets/images/menu/button.svg" />
            <img alt="button" class="layout-menu-icon-active" src="./assets/images/menu/button-active.svg" />
            <span>Button</span>

        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==1?"block":"none")">
                <div>
                    <NavLink href="/button">&#9679; Button</NavLink>
                    <NavLink href="/splitbutton">&#9679; SplitButton</NavLink>
                </div>
            </div>
        </transition>
        <a @onclick="((e)=>toogleMenu(e,2))" tabindex="0" classs="@(activeMenuIndex==2?"active-menuitem":string.Empty)">
            <img alt="data" class="layout-menu-icon-inactive" src="./assets/images/menu/data.svg" />
            <img alt="data" class="layout-menu-icon-active" src="./assets/images/menu/data-active.svg" />
            <span>Data</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==2?"block":"none")">
                <div>
                    <NavLink href="/dataview">&#9679; DataView</NavLink>
                    <NavLink href="/fullcalendar">&#9679; FullCalendar</NavLink>
                    <NavLink href="/paginator">&#9679; Paginator</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,3))" tabindex="0" classs="@(activeMenuIndex==3?"active-menuitem":string.Empty)">
            <img alt="panel" class="layout-menu-icon-inactive" src="./assets/images/menu/panel.svg" />
            <img alt="panel" class="layout-menu-icon-active" src="./assets/images/menu/panel-active.svg" />
            <span>Panel</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==3?"block":"none")">
                <div>
                    <NavLink href="/accordion">&#9679; Accordion</NavLink>
                    <NavLink href="/card">&#9679; Card</NavLink>
                    <NavLink href="/panel">&#9679; Panel</NavLink>
                    <NavLink href="/fieldset">&#9679; Fieldset</NavLink>
                    <NavLink href="/flexgrid">&#9679; FlexGrid</NavLink>
                    <NavLink href="/tabview">&#9679; TabView</NavLink>
                    <NavLink href="/toolbar">&#9679; Toolbar</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,4))" tabindex="0" classs="@(activeMenuIndex==4?"active-menuitem":string.Empty)">
            <img alt="overlay" class="layout-menu-icon-inactive" src="./assets/images/menu/overlay.svg" />
            <img alt="overlay" class="layout-menu-icon-active" src="./assets/images/menu/overlay-active.svg" />
            <span>Overlay</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==4?"block":"none")">
                <div>
                    <NavLink href="/dialog">&#9679; Dialog</NavLink>
                    <NavLink href="/overlaypanel">&#9679; OverlayPanel</NavLink>
                    <NavLink href="/sidebar">&#9679; Sidebar</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,5))" tabindex="0" classs="@(activeMenuIndex==5?"active-menuitem":string.Empty)">
            <img alt="file" class="layout-menu-icon-inactive" src="./assets/images/menu/file.svg" />
            <img alt="file" class="layout-menu-icon-active" src="./assets/images/menu/file-active.svg" />
            <span>File</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==5?"block":"none")">
                <div>
                    <NavLink href="/fileupload">&#9679; Upload</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,6))" tabindex="0" classs="@(activeMenuIndex==6?"active-menuitem":string.Empty)">
            <img alt="menu" class="layout-menu-icon-inactive" src="./assets/images/menu/menu.svg" />
            <img alt="menu" class="layout-menu-icon-active" src="./assets/images/menu/menu-active.svg" />
            <span>Menu</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==6?"block":"none")">
                <div>
                    <NavLink href="/">&#9679; Link</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,7))" tabindex="0" classs="@(activeMenuIndex==7?"active-menuitem":string.Empty)">
            <img alt="charts" class="layout-menu-icon-inactive" src="./assets/images/menu/charts.svg" />
            <img alt="charts" class="layout-menu-icon-active" src="./assets/images/menu/charts-active.svg" />
            <span>Chart</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==7?"block":"none")">
                <div>
                    <NavLink href="/chart">&#9679; Chart</NavLink>
                    <NavLink href="/chart/pie">&#9679; Pie</NavLink>
                    <NavLink href="/chart/doughnut">&#9679; Doughnut</NavLink>
                    <NavLink href="/chart/bar">&#9679; Bar</NavLink>
                    <NavLink href="/chart/line">&#9679; Line</NavLink>
                    <NavLink href="/chart/polararea">&#9679; PolarArea</NavLink>
                    <NavLink href="/chart/radar">&#9679; Radar</NavLink>
                    <NavLink href="/chart/combo">&#9679; Combo</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,8))" tabindex="0" classs="@(activeMenuIndex==8?"active-menuitem":string.Empty)">
            <img alt="message" class="layout-menu-icon-inactive" src="./assets/images/menu/message.svg" />
            <img alt="message" class="layout-menu-icon-active" src="./assets/images/menu/message-active.svg" />
            <span>Messages</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==8?"block":"none")">
                <div>
                    <NavLink href="/message">&#9679; Message</NavLink>
                    <NavLink href="/toast">&#9679; Toast</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,9))" tabindex="0" classs="@(activeMenuIndex==9?"active-menuitem":string.Empty)">
            <img alt="misc" class="layout-menu-icon-inactive" src="./assets/images/menu/misc.svg" />
            <img alt="misc" class="layout-menu-icon-active" src="./assets/images/menu/misc-active.svg" />
            <span>Misc</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==9?"block":"none")">
                <div>
                    <NavLink href="/progressbar">&#9679; ProgressBar</NavLink>
                </div>
            </div>
        </transition>

        <a @onclick="((e)=>toogleMenu(e,10))" tabindex="0" classs="@(activeMenuIndex==10?"active-menuitem":string.Empty)">
            <img alt="misc" class="layout-menu-icon-inactive" src="./assets/images/menu/misc.svg" />
            <img alt="misc" class="layout-menu-icon-active" src="./assets/images/menu/misc-active.svg" />
            <span>Misc</span>
        </a>
        <transition name="layout-submenu-wrapper">
            <div style="display:@(activeMenuIndex==10?"block":"none")">
                <div>
                    <NavLink href="/">&#9679; Link</NavLink>
                </div>
            </div>
        </transition>
    </div>
</div>
@code {
    [Parameter] public bool active { get; set; } = false;
    [Parameter] public EventCallback<MouseEventArgs> menuitemClick { get; set; }
    private int? activeMenuIndex = null;
    private DotNetObjectReference<AppMenu>? dotNetHelper;
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            dotNetHelper = DotNetObjectReference.Create(this);
            await JS.InvokeVoidAsync("appmenuHelpers.setDotNetHelper", dotNetHelper);
        }
    }
    private void toogleMenu(MouseEventArgs eventArgs, int index)
    {
        this.activeMenuIndex = this.activeMenuIndex == index ? null : index;
    }
}